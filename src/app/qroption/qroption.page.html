<ion-content mode="ios">

  <app-header></app-header>

  <ion-breadcrumbs class="ion-padding">
    <ion-breadcrumb *ngFor="let item of navigations" [routerLink]="item.url">
      {{ item.text }}
    </ion-breadcrumb>
    <ion-breadcrumb routerLink="/qroption">
      ช่องทางการชำระเงิน
    </ion-breadcrumb>
  </ion-breadcrumbs>

  <ng-container *ngIf="data">

    <ion-list class="ion-padding">
      <ion-list-header>
        <ion-label>ข้อมูลที่อยู่</ion-label>
      </ion-list-header>

      <ion-card color="tertiary" class="border-radius">
        <ion-card-content>
          {{ data.displayName }}
          <ion-text color="medium">
            <p>{{ data.fullAddress }}</p>
          </ion-text>

          <ion-grid class="ion-no-padding ion-padding-top">
            <ion-row>
              <ion-col size-lg="3" size-xs="6">
                ชำระล่วงหน้า
                <ion-text color="medium">
                  <p *ngIf="data.paymentInfo && data.paymentInfo.prepayTimes && data.paymentInfo.prepayAmount">{{
                    data.paymentInfo.prepayTimes }} เดือน ( {{ data.paymentInfo.prepayAmount }} <small>THB</small>)
                  </p>
                  <p *ngIf="!(data.paymentInfo && data.paymentInfo.prepayTimes && data.paymentInfo.prepayAmount)">-
                  </p>
                </ion-text>
              </ion-col>
              <ion-col size-lg="9" size-xs="6">
                ค้างชำระ
                <ion-text color="medium">
                  <p
                    *ngIf="data.paymentInfo && data.paymentInfo.overdueDate && data.paymentInfo.overdueAmount && data.paymentInfo.overdueDateTimes">
                    {{ data.paymentInfo.overdueDateTimes}} เดือน ({{ data.paymentInfo.overdueAmount }}
                    <small>THB</small>)<br>
                    {{ data.paymentInfo.overdueDate }}
                  </p>
                  <p
                    *ngIf="!(data.paymentInfo && data.paymentInfo.overdueDate && data.paymentInfo.overdueAmount && data.paymentInfo.overdueDateTimes)">
                    -</p>
                </ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>

          <ion-grid class="ion-no-padding ion-padding-top">
            <ion-row>
              <ion-col size-lg="3" size-xs="6">
                วันที่ชำระล่าสุด
                <ion-text color="medium">
                  <p *ngIf="data.paymentInfo && data.paymentInfo.lastedPaidDate && data.paymentInfo.lastedPaidAmount">
                    {{ data.paymentInfo.lastedPaidDate }} ({{ data.paymentInfo.lastedPaidAmount }} <small>THB</small>)
                  </p>
                  <p
                    *ngIf="!(data.paymentInfo && data.paymentInfo.lastedPaidDate && data.paymentInfo.lastedPaidAmount)">
                    -
                  </p>
                </ion-text>
              </ion-col>
              <ion-col size-lg="9" size-xs="6">
                วันที่ชำระครั้งถัดไป
                <ion-text color="medium">
                  <p *ngIf="data.paymentInfo && data.paymentInfo.nextPaidDate && data.paymentInfo.nextPaidAmount">
                    {{ data.paymentInfo.nextPaidDate }} ({{ data.paymentInfo.nextPaidAmount }} <small>THB</small>)
                  </p>
                  <p *ngIf="!(data.paymentInfo && data.paymentInfo.nextPaidDate && data.paymentInfo.nextPaidAmount)">
                    -
                  </p>
                </ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>

        </ion-card-content>
      </ion-card>

    </ion-list>

    <ion-list class="ion-padding">
      <ion-list-header>
        <ion-label>เลือกช่องทางการชำระเงิน</ion-label>
      </ion-list-header>

      <ion-item *ngIf="data.paymentInfo && data.paymentInfo.overdueAmount"
        (click)="onSelectPay(data.paymentInfo.overdueAmount)">
        <ion-label>
          <h2><b>ค้างชำระทั้งหมด</b></h2>
          <ion-text color="medium">
            <p>{{ data.paymentInfo.overdueAmount }} <small>THB</small></p>
          </ion-text>
        </ion-label>
        <ion-button class="no-shadow ion-no-margin" mode="md" color="danger" shape="round" slot="end" size="default">
          <ion-label class="ion-margin">เลือก</ion-label>
        </ion-button>
      </ion-item>

      <ion-item (click)="onSelectPay(50)">
        <ion-label>
          <h2><b>รายเดือน</b></h2>
          <ion-text color="medium">
            <p>50 <small>THB</small></p>
          </ion-text>
        </ion-label>
        <ion-button class="no-shadow ion-no-margin" mode="md" color="danger" shape="round" slot="end" size="default">
          <ion-label class="ion-margin">เลือก</ion-label>
        </ion-button>
      </ion-item>

      <ion-item (click)="onSelectPay(600)">
        <ion-label>
          <h2><b>รายปี</b></h2>
          <ion-text color="medium">
            <p>600 <small>THB</small></p>
          </ion-text>
        </ion-label>
        <ion-button class="no-shadow ion-no-margin" mode="md" color="danger" shape="round" slot="end" size="default">
          <ion-label class="ion-margin">เลือก</ion-label>
        </ion-button>
      </ion-item>

    </ion-list>

  </ng-container>
  <ng-container *ngIf="!data">

    <ion-card class="ion-text-center">
      <ion-card-content>
        <h1>ไม่พบข้อมูลครัวเรือน</h1>
        <p>กรุณาตรวจสอบใหม่อีกครั้ง</p>
      </ion-card-content>
    </ion-card>
  </ng-container>

</ion-content>